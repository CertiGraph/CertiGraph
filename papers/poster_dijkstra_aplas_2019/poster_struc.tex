\begin{tikzpicture}
  [every shadow/.style={opacity=0.0, shadow xshift=8pt, shadow yshift=-8pt},
    ->/.style={line width=3pt, arrows={-Stealth}},
    -->/.style={line width=3pt, arrows={-Stealth}, decorate, decoration={snake, amplitude=1mm,segment length=5mm,post length=5mm}},
    realG/.style={shape=rectangle, rounded corners=8pt, text=white, draw=maincolor, fill=maincolor, drop shadow},
    propG/.style={shape=rectangle, rounded corners=8pt, text=black, draw=accentcolor, fill=accentcolor, drop shadow},
    x=6cm, y=4cm, line width=3pt, font=\large]
\node[realG] (PG) at (0, 0) { PreGraph};
\node[realG] (LG) [right=0.8 of PG] { LabeledGraph};
\node[realG] (GG) [right=2 of LG] { GeneralGraph};
\draw [double, ->] (PG) -- (LG) node [pos=0.5, above] { $+$ labels} ;
\draw [double, ->] (LG) -- (GG) node (SC) [pos=0.5, above, align=center]
{ $+$ soundness condition};
\node[propG] (Prop) [below=0.6 of SC] { Property};
\node[propG] (PropL) [below=0.4 of Prop] { Property Lemmas};
\node[propG] (PGL) [below=2 of PG, align=center] { PreGraph \\ Lemmas};
\node[propG] (LGL) [below=2 of LG, align=center] { LabeledGraph \\ Lemmas};
\node[propG] (GGL) [below=2 of GG, align=center] { GeneralGraph \\ Lemmas};
\draw [double, ->] (PGL) to (LGL);
%% \draw [double, ->] (LGL) to (GGL);
\draw [->] (PG) to (PGL);
\draw [->] (Prop) to (PropL);
\draw [-->] (Prop) to (SC);
\coordinate [left=0.2 of LG.south] (LGs1);
\coordinate [left=0.2 of LGL.north] (LGLn1);
\draw [->] (LGs1) to (LGLn1);
\coordinate [right=0.2 of LG.south] (LGs2);
\coordinate [right=0.2 of LGL.north] (LGLn2);
\draw [->] (LGs2) |- (Prop);
\draw [double, ->] (LGLn2) |- (PropL);
\coordinate [right=0.2 of GG.south] (GGs);
\coordinate [left=0.2 of GGL.north] (GGLn1);
\coordinate [right=0.2 of GGL.north] (GGLn2);
\draw [double, ->] (PropL) -| (GGLn1);
\draw [->] (GGs) to (GGLn2);
\node [draw, rectangle, dashed, inner sep=0.6cm, fit=(Prop) (PropL)] {};
\node (legend1) [below right=0.2 and 0.1 of PGL] { Dependence};
\coordinate[left=0.8 of legend1]  (l1);
\draw [->] (l1) to (legend1);
\node (legend2) [right=1 of legend1] { Inheritance};
\coordinate[left=0.8 of legend2]  (l2);
\draw [double, ->] (l2) to (legend2);
\node (legend3) [right=1 of legend2] { Instantialization};
\coordinate[left=0.8 of legend3]  (l3);
\draw [-->] (l3) to (legend3);
\end{tikzpicture}
% \captionof{figure}{Structure of the Mathematical Graph Library}