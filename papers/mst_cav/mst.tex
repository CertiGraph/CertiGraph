\documentclass[runningheads]{llncs}

\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{float}
\usepackage{fancyvrb}
%% The amsthm package provides extended theorem environments

% \usepackage{amsthm}
% AM commented out because it clashes with proof, etc

%% The lineno packages adds line numbers. Start line numbering with
%% \begin{linenumbers}, end it with \end{linenumbers}. Or switch it on
%% for the whole article with \linenumbers.
\usepackage{lineno}

%% Use package enumitem to align enumeration and itemization
\usepackage{enumitem}
\usepackage{listings}
%\usepackage{courier}           % for the courier font (optional)
\usepackage{multicol}          % for two equations side by side
\usepackage[justification=centering]{caption}
\usepackage[dvipsnames]{xcolor}
\usepackage{stmaryrd}
\usepackage{hyperref}
%\usepackage{cleveref}
\usepackage{hieroglf}
\usepackage{scalerel}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage[export]{adjustbox} % for subfigures
\usepackage{semantic}          % for mathlig


\hypersetup{ % play with these to change the look of hyperlinks
	colorlinks=true,
	linkcolor=black,
	filecolor=magenta,
	urlcolor=blue,
	citecolor=black
}

\newcommand{\coq}{\scalebox{.6}{\textpmhg{\Ha}}}
\newcommand{\p}[1]{\ensuremath{\mathsf{#1}}} % predicate font
\newcommand{\m}[1]{\ensuremath{\mathit{#1}}} % math font
\newcommand{\braces}[1]{\left\{\begin{array}{l@{}} #1 \end{array}\right\}}
\let\ramify\lightning
\newcommand{\sz}{\texttt{SIZE}}
\newcommand{\ifty}{\texttt{INF}}
\newcommand{\defeq}{\mathbin{\stackrel{\Delta}{=}}}
\newcommand{\bigO}{\text{O}}
\usetikzlibrary{shadows}
\usetikzlibrary{arrows.meta, positioning, decorations.pathmorphing, fit, matrix}
\mathlig{/|}{\mathbin{\wedge}} % additive conjunction


% required by LNCS
\renewcommand\UrlFont{\color{blue}\rmfamily}

\colorlet{red}{red!80!black}
\colorlet{green}{green!50!black}

%% NEW COMMANDS =============================================

\lstdefinestyle{myStyle}{
	%	language=Coq,
	keywords={Inductive,Require,Import,Definition,Fixpoint,match,with,end,let,in,fix},
	basicstyle=\normalfont\footnotesize\tt,
	keywordstyle=\color{green}, % Blue clashes with the cyan links. Change if you want.
	stepnumber=1,
	tabsize=2,
	numbers=none,
	numberstyle=\tiny,
	numbersep=5pt,
	showspaces=false,
	escapechar=`,
	showstringspaces=false
}
%basicstyle=\fontsize{10}{11}\selectfont\ttfamily,

\lstdefinestyle{myTinyStyle}{
	%   language=Coq,
	basicstyle=\normalfont\fontsize{7.0}{7.3}\tt,
	stepnumber=1,
	tabsize=2,
	numbers=none,
	numberstyle=\tiny,
	numbersep=5pt,
	showspaces=false,
	showstringspaces=false,
	language=C,
	morecomment=[l][{\color{OliveGreen}}]{//},
	sensitive=true,
	mathescape=true,
	showlines=true,
	escapechar=`,
	basicstyle=\footnotesize\ttfamily,
	keywordstyle=\color{blue}, numbers=left,
	numberstyle=\tiny, numbersep=5pt, boxpos=t
}

\lstdefinestyle{CoqStyle}{
%	language=Coq,
    keywords={forall,Prop,Type,Inductive,Require,Import,Definition,Fixpoint,match,with,end,let,in,fix,if,then,else},
	basicstyle=\footnotesize\ttfamily,
    keywordstyle=\color{blue},
	stepnumber=1,
	tabsize=2,
    numbers=none,
    numberstyle=\tiny,
    numbersep=5pt,
	showspaces=false,
    escapechar=`,
	showstringspaces=false
}

\lstset{style=myTinyStyle}
\makeatletter
\newlength{\@mli}
\newcommand{\mli}[1]{%
	\settowidth{\@mli}{\lstinline/#1/}
	\hspace{-.5ex}\begin{minipage}[t]{\@mli}\lstinline/#1/\end{minipage}}
\makeatother
\newcommand{\li}[1]{\ifmmode\mbox{\mli{#1}}\else\mbox{\lstinline/#1/}\fi}

\newcommand\hide[1]{}

\newenvironment{centermath}
{\begin{center}$\displaystyle}
	{$\end{center}}

\renewcommand{\note}[2][polish]{{\color{red} #2}{\marginpar{\tiny \color{blue} #1}}}
\renewcommand{\implies}{\Rightarrow}
\renewcommand{\iff}{\Leftrightarrow}

\title{Functional Correctness of C implementations \\
of Dijkstra's, Kruskal's, and Prim's Algorithms}
\titlerunning{Functional Correctness of Dijkstra's, Kruskal's, and Prim's Algorithms}
%optional, please use if title is longer than one line

\begin{document}

\hide{
	\author{Anshuman Mohan \and
	Wei Xiang Leow \and
%	Shengyi Wang\inst{2} \and
	Aquinas Hobor} %\inst{1,2}}

	%\authorrunning{A. Mohan et al.}
% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
	
	\institute{National University of Singapore}% \and
%	Princeton University, USA \and
%	Yale-NUS College, National University of Singapore}	
}
\author{ } \institute{ }
	\maketitle
	%\begin{frontmatter}
	
	%% Title, authors and addresses
	
	%% use the tnoteref command within \title for footnotes;
	%% use the tnotetext command for theassociated footnote;
	%% use the fnref command within \author or \address for footnotes;
	%% use the fntext command for theassociated footnote;
	%% use the corref command within \author for corresponding author footnotes;
	%% use the cortext command for theassociated footnote;
	%% use the ead command for the email address,
	%% and the form \ead[url] for the home page:
	
	%% \tnotetext[label1]{}
	%% \author{Name\corref{cor1}\fnref{label2}}
	%% \ead{email address}
	%% \ead[url]{home page}
	%% \fntext[label2]{}
	%% \cortext[cor1]{}
	%% \address{Address\fnref{label3}}
	%% \fntext[label3]{}
	
	%% use optional labels to link authors explicitly to addresses:
	%% \author[label1,label2]{}
	%% \address[label1]{}
	%% \address[label2]{}
	
	%\author{}
	
	%\address{}
	\vspace{-2em}
	
	\begin{abstract}
		\vspace{-1.2em}
        We develop machine-checked verifications of the full functional correctness of C implementations of the eponymous graph algorithms of Dijkstra, Kruskal, and Prim.  We extend Wang et al's CertiGraph platform \cite{DBLP:journals/pacmpl/WangCMH19} to reason about labels on edges, undirected graphs, and common spatial representations of edge-labeled graphs such as adjacency matrices and edge lists.  We certify binary heaps, including Floyd's bottom-up heap construction, heapsort, and increase/decrease priority.
        Our verifications uncover subtle overflows implicit in standard textbook code, including a nontrivial bound on edge weights necessary to execute Dijkstra's algorithm: in fact, we show that the intuitive guess fails and provide a workable refinement.  We observe that the common notion that Prim's algorithm requires a connected graph is wrong: we verify that a standard textbook implementation of Prim's algorithm can compute minimum spanning forests without finding components first.  Our verification of Kruskal's algorithm is notable because it requires reasoning about two graphs simultaneously: the undirected graph undergoing MST construction, and the directed graph representing the forest inside union-find.  Our binary heap verification exposes precise bounds for the heap to operate correctly, avoids a subtle overflow error, and includes a method of recycling keys to avoid overflow. %heap requires 0u, etc.?
		\keywords{separation logic \and graph algorithms \and Coq \and VST}
%Dijkstra's shortest-path \and Prim's algorithm \and Kruskal's algorithm \and minimum spanning trees \and verification \and CompCert \and VST}
	\end{abstract} %\and Coq
	
	%\end{frontmatter}
	
	%% \linenumbers
	
	%% main text
%\hide{	
	\section{Introduction}
	\label{sec:intro}
	\input{intro.tex}
	
	\section{Extension of CertiGraph for undirected graphs}
	\label{sec:undirected}
	\input{undirected.tex}

	\section{Shortest Path}
	\label{sec:dijkstra}
	\input{dijkstra.tex}
	
    \section{Minimum Spanning Trees}
    \label{sec:mst}
    
	\subsection{Verified Prim's Algorithm in C}
	\label{sec:prim}
	\input{prim.tex}
	
	\subsection{Verified Kruskal's Algorithm in C}
	\label{sec:kruskal}
	\input{kruskal.tex}

    \section{Verified binary heaps in C}
    \label{sec:binheap}
    \input{binheap.tex}

	%% If you have bibdatabase file and want bibtex to generate the
	%% bibitems, please use
	%%
	%\bibliographystyle{plainurl}% the mandatory bibstyle
	
    \section{Engineering considerations}
    \label{sec:stats}

	\subsection{Structure of graph library}
	\label{sec:structure}
	\input{structure.tex}

	\subsection{Observations of VST}
	\label{sec:vst}
	\input{vst.tex}

    \subsection{Size of our development}

	\section{Concluding thoughts: Future and Related Work}
	\label{sec:conclusion}

	\input{conclusion.tex}
%}	
	\bibliographystyle{splncs}
	\bibliography{mst}
%\hide{	
	%% The Appendices part is started with the command \appendix;
	%% appendix sections are then done as normal sections
	\appendix
	\label{sec:apx}
	\input{verification.tex}
	% \input{appendix.tex}
%	}
	
	%%\end{thebibliography}
\end{document}
\endinput
%%
