\documentclass[runningheads]{llncs}

\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{float}
\usepackage{fancyvrb}
%% The amsthm package provides extended theorem environments

% \usepackage{amsthm}
% AM commented out because it clashes with proof, etc

%% The lineno packages adds line numbers. Start line numbering with
%% \begin{linenumbers}, end it with \end{linenumbers}. Or switch it on
%% for the whole article with \linenumbers.
\usepackage{lineno}

%% Use package enumitem to align enumeration and itemization
\usepackage{enumitem}
\usepackage{listings}
%\usepackage{courier}           % for the courier font (optional)
\usepackage{multicol}          % for two equations side by side
\usepackage[justification=centering]{caption}
\usepackage[dvipsnames]{xcolor}
\usepackage{stmaryrd}
\usepackage{hyperref}
%\usepackage{cleveref}
\usepackage{hieroglf}
\usepackage{scalerel}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage[export]{adjustbox} % for subfigures
\usepackage{semantic}          % for mathlig
\usepackage{cite}


\hypersetup{ % play with these to change the look of hyperlinks
	colorlinks=true,
	linkcolor=black,
	filecolor=magenta,
	urlcolor=blue,
	citecolor=black
}

\newcommand{\coq}{\scalebox{.6}{\textpmhg{\Ha}}}
\newcommand{\p}[1]{\ensuremath{\mathsf{#1}}} % predicate font
\newcommand{\m}[1]{\ensuremath{\mathit{#1}}} % math font
\newcommand{\braces}[1]{\left\{\begin{array}{l@{}} #1 \end{array}\right\}}
\let\ramify\lightning
\newcommand{\sz}{\texttt{SIZE}}
\newcommand{\ifty}{\texttt{INF}}
\newcommand{\defeq}{\mathbin{\stackrel{\Delta}{=}}}
\newcommand{\bigO}{\text{O}}
\newcommand{\scon}{\mathbin{\ast}}
\renewcommand{\bigstar}{\raisebox{-0.24em}{{\scaleobj{2.5}{\scon}}}}
\usetikzlibrary{shadows}
\usetikzlibrary{arrows.meta, positioning, decorations.pathmorphing, fit, matrix}
\mathlig{/|}{\mathbin{\wedge}} % additive conjunction


% required by LNCS
\renewcommand\UrlFont{\color{blue}\rmfamily}

\colorlet{red}{red!80!black}
\colorlet{green}{green!50!black}

%% NEW COMMANDS =============================================

\lstdefinestyle{myStyle}{
	%	language=Coq,
	keywords={Inductive,Require,Import,Definition,Fixpoint,match,with,end,let,in,fix},
	basicstyle=\tiny,
	keywordstyle=\color{green}, % Blue clashes with the cyan links. Change if you want.
	stepnumber=1,
	tabsize=2,
	numbers=none,
	numberstyle=\scriptsize\tt,
	numbersep=5pt,
	showspaces=false,
	escapechar=`,
	showstringspaces=false
}
%basicstyle=\fontsize{10}{11}\selectfont\ttfamily,

\lstdefinestyle{myTinyStyle}{
	%   language=Coq,
	basicstyle=\tiny,
	stepnumber=1,
	tabsize=2,
	numbers=none,
	numberstyle=\tiny,
	numbersep=5pt,
	showspaces=false,
	showstringspaces=false,
	language=C,
	morecomment=[l][{\color{OliveGreen}}]{//},
	sensitive=true,
	mathescape=true,
	showlines=true,
	escapechar=`,
%	basicstyle=\scriptsize\tt,
	basicstyle=\footnotesize\tt,
	keywordstyle=\color{blue}, numbers=left,
	numberstyle=\tiny, numbersep=5pt, boxpos=t
}

\lstdefinestyle{CoqStyle}{
%	language=Coq,
    keywords={forall,Prop,Type,Inductive,Require,Import,Definition,Fixpoint,match,with,end,let,in,fix,if,then,else},
	basicstyle=\tiny,
    keywordstyle=\color{blue},
	stepnumber=1,
	tabsize=2,
    numbers=none,
    numberstyle=\tiny,
    numbersep=5pt,
	showspaces=false,
    escapechar=`,
	showstringspaces=false,
	numbers=left,
	basicstyle=\footnotesize\tt
%	basicstyle=\scriptsize\tt
}

\lstset{style=myTinyStyle}
\makeatletter
\newlength{\@mli}
\newcommand{\mli}[1]{%
	\settowidth{\@mli}{\lstinline/#1/}
	\hspace{-.5ex}\begin{minipage}[t]{\@mli}\lstinline/#1/\end{minipage}}
\makeatother
\newcommand{\li}[1]{\ifmmode\mbox{\mli{#1}}\else\mbox{\lstinline/#1/}\fi}

\newcommand\hide[1]{}

\newenvironment{centermath}
{\begin{center}$\displaystyle}
	{$\end{center}}

\renewcommand{\note}[2][polish]{{\color{red} #2}{\marginpar{\tiny \color{blue} #1}}}
\renewcommand{\implies}{\Rightarrow}
\renewcommand{\iff}{\Leftrightarrow}

% To fiddle with the bib spacing...
%\hide{
\newlength{\bibitemsep}\setlength{\bibitemsep}{-0.1\baselineskip plus .05\baselineskip minus .05\baselineskip}
\newlength{\bibparskip}\setlength{\bibparskip}{-0.1pt}
\let\oldthebibliography\thebibliography
\renewcommand\thebibliography[1]{%
  \oldthebibliography{#1}%
  \setlength{\parskip}{\bibitemsep}%
  \setlength{\itemsep}{\bibparskip}%
  \renewcommand{\baselinestretch}{0.3}
}
%}% end hide

%hack 1:
%saves half a page
\renewcommand{\baselinestretch}{0.98}
% similar effect on page use, maybe via a bit different look:
%\linespread{0.98}

% hack 2:
% the following options don't "stack"

% hack 2, option a:
%saves ~10 lines, but sometimes is ugly in fig 2
% \addtolength{\textfloatsep}{-1em plus -0.5em minus -0.5em}

% hack 2, option b:
%saves ~10 lines
\addtolength{\abovecaptionskip}{-0.5em plus -0.25em minus -0.25em}
\addtolength{\belowcaptionskip}{-1em plus -0.25em minus -0.25em}


\title{Functional Correctness of C Implementations \\
of Dijkstra's, Kruskal's, and Prim's Algorithms}
\titlerunning{Functional Correctness of Dijkstra's, Kruskal's, and Prim's Algorithms}
%optional, please use if title is longer than one line

\begin{document}

%\hide{
	\author{Anshuman Mohan \and
	Wei Xiang Leow \and
%	Shengyi Wang\inst{2} \and
	Aquinas Hobor} %\inst{1,2}
%}

	%\authorrunning{A. Mohan et al.}
% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
	
	\institute{School of Computing, National University of Singapore}% \and
%	Princeton University, USA \and
%	Yale-NUS College, National University of Singapore}	
%}
%\author{ } \institute{ }
	\maketitle
	%\begin{frontmatter}
	
	%% Title, authors and addresses
	
	%% use the tnoteref command within \title for footnotes;
	%% use the tnotetext command for theassociated footnote;
	%% use the fnref command within \author or \address for footnotes;
	%% use the fntext command for theassociated footnote;
	%% use the corref command within \author for corresponding author footnotes;
	%% use the cortext command for theassociated footnote;
	%% use the ead command for the email address,
	%% and the form \ead[url] for the home page:
	
	%% \tnotetext[label1]{}
	%% \author{Name\corref{cor1}\fnref{label2}}
	%% \ead{email address}
	%% \ead[url]{home page}
	%% \fntext[label2]{}
	%% \cortext[cor1]{}
	%% \address{Address\fnref{label3}}
	%% \fntext[label3]{}
	
	%% use optional labels to link authors explicitly to addresses:
	%% \author[label1,label2]{}
	%% \address[label1]{}
	%% \address[label2]{}
	
	%\author{}
	
	%\address{}
%	\vspace{-2em}
	
	\begin{abstract}
%		\vspace{-1.2em}
        We develop machine-checked verifications of the full functional correctness of C implementations of the eponymous graph algorithms of Dijkstra, Kruskal, and Prim.  We extend Wang \textit{et al.}'s CertiGraph platform to reason about labels on edges, undirected graphs, and common spatial representations of edge-labeled graphs such as adjacency matrices and edge lists.  We certify binary heaps, including Floyd's bottom-up heap construction, heapsort, and increase/decrease priority.

        ~~Our verifications uncover subtle overflows implicit in standard textbook code, including a nontrivial bound on edge weights necessary to execute Dijkstra's algorithm; we show that the intuitive guess fails and provide a workable refinement.  We observe that the common notion that Prim's algorithm requires a connected graph is wrong: we verify that a standard textbook implementation of Prim's algorithm can compute minimum spanning forests without finding components first.  Our verification of Kruskal's algorithm reasons about two graphs simultaneously: the undirected graph undergoing MSF construction, and the directed graph representing the forest inside union-find.  Our binary heap verification exposes precise bounds for the heap to operate correctly, avoids a subtle overflow error, and shows how to recycle keys to avoid overflow.
		\keywords{separation logic \and graph algorithms \and Coq \and VST}
%Dijkstra's shortest-path \and Prim's algorithm \and Kruskal's algorithm \and minimum spanning trees \and verification \and CompCert \and VST}
	\end{abstract} %\and Coq
	
	%\end{frontmatter}
	
	%% \linenumbers
	
	%% main text
%\hide{	
\vspace*{-0.5em}
	\section{Introduction}
	\label{sec:intro}
\vspace*{-0.5em}
	\input{intro.tex}
	
\vspace*{-0.5em}
	\section{Extensions to CertiGraph}
	\label{sec:extensions}
\vspace*{-0.5em}
	\input{extensions.tex}

\vspace*{-0.5em}
	\section{Shortest Path}
	\label{sec:dijkstra}
\vspace*{-0.5em}
	\input{dijkstra.tex}
	
\vspace*{-0.5em}
    \section{Minimum Spanning Trees}
    \label{sec:mst}
\vspace*{-0.5em}
%\vspace*{-0.5em}
	\input{prim.tex}
	\input{kruskal.tex}

\vspace*{-0.5em}
    \section{Verified binary heaps in C}
    \label{sec:binheap}
\vspace*{-0.5em}
    \input{binheap.tex}

	%% If you have bibdatabase file and want bibtex to generate the
	%% bibitems, please use
	%%
	%\bibliographystyle{plainurl}% the mandatory bibstyle
	
\vspace*{-0.5em}
    \section{Engineering considerations}
    \label{sec:stats}
\vspace*{-0.5em}
	\input{structure.tex}

%	\subsection{Observations of VST}
%	\label{sec:vst}
%	\input{vst.tex}

\vspace*{-0.5em}
	\section{Concluding thoughts: Related and Future Work}
	\label{sec:conclusion}
\vspace*{-0.5em}

%\vspace*{-0.5em}

	\input{conclusion.tex}
%}	

	\bibliographystyle{splncs04}
	\bibliography{mst}

\hide{	\appendix
	\label{sec:apx}
	\input{verification.tex}
	}
	
\end{document}
\endinput
%%
