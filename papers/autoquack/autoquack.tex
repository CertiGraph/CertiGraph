%
% LaTeX template for prepartion of submissions to PLDI'15
%
% Requires temporary version of sigplanconf style file provided on
% PLDI'15 web site.
%
\documentclass[pldi]{sigplanconf-pldi15}

%
% the following standard packages may be helpful, but are not required
%

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[tbtags]{amsmath} %\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{mathpartir}
\usepackage{listings}          % format code
\usepackage{stmaryrd}
\usepackage{relsize}
\usepackage{setspace}
\usepackage[small,compact]{titlesec}

\usepackage{amssymb}
\usepackage{mathabx}
\usepackage{wasysym}
%% \usepackage{SIunits}            % typset units correctly
\usepackage{courier}            % standard fixed width font
\usepackage[scaled]{helvet} % see www.ctan.org/get/macros/latex/required/psnfss/psnfss2e.pdf
\usepackage{url}                  % format URLs
\usepackage{enumitem}      % adjust spacing in enums
\usepackage[colorlinks=true,allcolors=blue,breaklinks,draft=false]{hyperref}   % hyperlinks, including DOIs and URLs in bibliography
% known bug: http://tex.stackexchange.com/questions/1522/pdfendlink-ended-up-in-different-nesting-level-than-pdfstartlink
\usepackage{tikz}
\long\def\beginpgfgraphicnamed#1#2\endpgfgraphicnamed{\includegraphics{#1}}
%% \usetikzlibrary{arrows.meta, positioning}
%% \pgfrealjobname{autoquack}
\usepackage{fancybox}
\usepackage{multicol}
\usepackage{semantic}
\newcommand{\triple}[3]{\{#1\}\,#2\,\{#3\}}
\newcommand{\doi}[1]{doi:~\href{http://dx.doi.org/#1}{\Hurl{#1}}}   % print a hyperlinked DOI
\usepackage{mathtools}

\newcommand\hide[1]{}

\newcommand{\scon}{\mathbin{\varstar}}
\newcommand{\ocon}{%
  \mathbin{\mbox{$\mathrlap{\cup}\hspace*{.15em}
      \raisebox{.01em}[0ex][0ex]{$\scon$}$\hspace*{.07em}}}}
\newcommand{\wand}{%
 \mathrel{\mbox{$\hspace*{-0.03em}\mathord{-}\hspace*{-0.66em}
     \mathord{-}\hspace*{-0.36em}\mathord{\scon}$\hspace*{-0.005em}}}}
\newcommand{\septraction}{%
  \mathrel{\mbox{$\hspace*{-0.03em}\mathord{-}\hspace*{-0.66em}
  \mathord{-}\hspace*{-0.155em}\mathord{\ocircle\hspace*{-.66em}\scon}$\hspace*{0.05em}}}}
\newcommand{\magicwand}{\wand}
\newcommand{\defeq}{\mathbin{\stackrel{\Delta}{=}}}

%\input mathlig
  \mathlig{--*}{\mathrel{\magicwand}}
  \mathlig{--o}{\mathrel{\septraction}}
  \mathlig{|->}{\mathrel{\mapsto}} % tight points-to
  \mathlig{<=>}{\mathrel{\Leftrightarrow}} % equivalence of expressions
  \mathlig{==>}{\mathrel{\Rightarrow}} % meta implication
\hide{
  \mathlig{||-}{\mathbin{\Vdash}}
  \mathlig{<==>}{\mathrel{\Longleftrightarrow}} % equivalence
  \mathlig{--->}{\mathrel{\longrightarrow}} % transitions
  % 3 chars
  %\mathlig{::=}{\mathrel{\Coloneqq}}
  \mathlig{-->}{\mathrel{\rightarrow}} % set function space
  \mathlig{<->}{\mathrel{\leftrightarrow}}
  \mathlig{-|}{\dashv}
  \mathlig{--`}{\mathrel{\rightharpoonup}} % partial function
  \mathlig{===}{\mathrel{\equiv}} % syntactic equality
  \mathlig{=/=}{\mathrel{\not\equiv}} % not syntactic equality
  \mathlig{|/-}{\nvdash} % not entailment
  \mathlig{|/=}{\nvDash} % not forces
  \mathlig{|||}{\mathrel{|}} % grammar
  \mathlig{-|-}{\mathrel{\mathrlap{\dashv} \hspace{5pt} \vdash}} % entails
  \mathlig{||=}{\VDash}
  \mathlig{||-}{\Vdash}
  % 2 chars
  \mathlig{==}{\mathrel{\stackrel{\smash{\scriptscriptstyle\mathrm{def}}}{=}}}
% \mathlig{==}{\mathrel{\triangleq}}
}
  \mathlig{/|}{\mathbin{\wedge}} % additive conjunction
  \mathlig{|/}{\mathbin{\vee}} % additive disjunction
  \mathlig{|-}{\mathrel{\vdash}} % entails
  \mathlig{|=}{\vDash} % models
\hide{
  \mathlig{/=}{\mathrel{\neq}} % non-equality expression
  \mathlig{<=}{\mathord{\leq}} % less than or equal expression
  \mathlig{=>}{\mathrel{\Rightarrow}} % implication
  \mathlig{|>}{\vartriangleright}
  \mathlig{<|}{\vartriangleleft}
  \mathlig{[|}{\llbracket} % open double bracket
  \mathlig{|]}{\rrbracket} % close double bracket
  \mathlig{->}{\mathord{\rightarrow}} % field dereference
  \mathlig{<-}{\mathord{\leftarrow}} % assignement
}

  \mathlig{**}{\mathbin{\ocon}}
  \mathlig{*}{\mathbin{\scon}}

%\usepackage{common}
%\usepackage{seplog}


% inline code
\makeatletter
\newlength{\@mli}
\newcommand{\mli}[1]{%
  \settowidth{\@mli}{\lstinline/#1/}
  \hspace{-.5ex}\begin{minipage}[t]{\@mli}\lstinline/#1/\end{minipage}}
\makeatother
\newcommand{\li}[1]{\ifmmode\mbox{\mli{#1}}\else\mbox{\lstinline/#1/}\fi}

\newcommand{\tx}[1]{\text{#1}}
\newcommand{\p}[1]{\ensuremath{\mathsf{#1}}} % predicate font
\newcommand{\m}[1]{\ensuremath{\mathit{#1}}} % math font
%\let\ramify\lightning
\newcommand{\ramify}{\mbox{\lightning}}
\newcommand{\infrulestyle}[1]{\textsc{#1}}
\newcommand{\infrule}[4]{\inferrule*[lab=\infrulestyle{#1},right=$\mathrlap{#4}$]{#2}{#3}}
\newcommand{\RuleS}[4]{\infrulestyle{#1}\frac{#2}{#3} \textit{#4}}
\newcommand{\Rule}[3]{\[\RuleS{#1}{\begin{array}{c} #2 \end{array}}{#3}{}\]}
\newcommand{\MV}{\ensuremath{\mathsf{ModVar}}}
\newcommand{\FV}{\ensuremath{\mathsf{FreeVar}}}
\newcommand{\pguards}[1]{\llbracket #1 \rrbracket}


\lstset{%
  language=C,
  morecomment=[n][{\color{red!80!black}}]{/*}{*/},
  morecomment=[l][{\color{red!80!black}}]{//},
  sensitive=true,
  mathescape=true,
  showlines=true,
  basicstyle=\normalfont\smaller\tt,
  keywordstyle=\color{blue},
  numbers=left,
  numberstyle=\tiny,
  numbersep=5pt,
  boxpos=t,
}


%\lstset{language=C,basicstyle=\small,mathescape=true,columns=fullflexible}


\begin{document}

%
% any author declaration will be ignored  when using 'plid' option (for double blind review)
%

%\title{The Ramifications of Mechanizing Verification}
\title{The Ramifications of \\ Mechanized Localizations within Data Structures}
\authorinfo{Shengyi Wang$^{*}$ \qquad Qinxiang Cao$^{+}$ \qquad Asankhaya Sharma$^{*}$ \qquad Aquinas Hobor$^{\dagger,*}$}
{}
{School of Computing$^{*}$ and Yale-NUS College$^{\dagger}$, National University of Singapore; Princeton University$^{+}$}

\maketitle

\begin{abstract}
We develop a way to mechanically verify realistic programs that manipulate data structures with intrinsic sharing such as heap-represented graphs.  We upgrade Hobor and Villard's theory of ramification to better support modified program variables and existential quantifiers in assertions.  We develop a modular and general setup for reasoning about mathematical graphs and show
how to connect this setup to a general theory of graphs in separation logic.  We connect our development to two large verification tools, the Verified Software Toolchain and HIP/SLEEK, and use these tools to mechanically verify several canonical graph algorithms. %Our proofs are entirely machine-checked.
\end{abstract}

\section{Introduction}
\label{sec:intro}

\input{intro.tex}

\section{Localizations}
\label{sec:orientation}

\input{orientation.tex}

\section{A framework for graph theory}
\label{sec:mathgraph}

\input{math_graph.tex}

\section{Defining and reasoning about spatial graphs}
\label{sec:spacegraph}

\input{spatial.tex}

%[5:19:46 AM] Aquinas Hobor: the localize/unlocalize tactics or the semantic model for semax_ram
%[5:19:46 AM] caoqinxiang: And we will discuss the trick in "\item Integrating ramification into verification tools" section right?
%[5:20:00 AM] Aquinas Hobor: Yes, and also the model for semax_ram
%[5:20:06 AM] Aquinas Hobor: And also the other examples

\input{vst.tex}

\section{Externally-verified lemmas in HIP/SLEEK}
\label{sec:hipsleek}

\input{hipsleek.tex}


\section{Applying ramification}\label{sec:application}
\input{spanning.tex}

%5. Mark algorithm
%5.1. For Ramification-Paper-style proof
%5.1.1. Math land theorems for marking algorithm (general situation and bi-graph situation) are all proved. Mainly in "\texttt{marked\_graph.v}" and "\texttt{spatial\_graph\_mark\_bi.v}".
%5.1.2. Ramification rule for marking algorithm (bi-graph situation) are all proved in "\texttt{spatial\_graph\_mark\_bi.v}".
%5.1.3. Combining 2.4 and 3.1.1 and 3.1.2, we have a end-to-end proof for marking-graph in VST.
%5.1.4. We have an end-to-end proof for marking-dag, but not defining dag predicate as a whole.
%5.1.5. The module type which will be generated by HIP/SLEEK should be instantiated by 2.2 and 2.5.
%
%6. Spanning tree algorithm
%6.1. We divide the spanning tree relation into structural part and marking part. They are both defined properly.
%6.2. Important pure facts and ramification rules are not proved yet.
%6.3. Shengyi has already known how to use VST to handle the C program of bigraph spanning tree.

\section{Related and future work}
\label{sec:related}

\input{related.tex}

\section{Conclusion}
\label{sec:conclusion}

BLAH

\bibliographystyle{abbrvnat}
%\bibliographystyle{tropbien_nopages}
\bibliography{autoquack}

\input{appendix.tex}

\end{document}
